"use strict";angular.module("sibasApp",["ui.bootstrap","ngResource","ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/atata",{templateUrl:"views/admin.html",controller:"AdminCtrl"}).when("/atata/:id",{templateUrl:"views/admin-edit.html",controller:"AdminEditCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("sibasApp").controller("MainCtrl",["$scope","Addresses","bsui","$location","$rootScope",function(a,b,c,d,e){a.reverse=!0,a.sortField="name",a.filtered=[],a.$watch("customText",function(a,b){}),a.$watch("type",function(a,b){}),a.data=b.query(),a.data.$promise.then(function(b){a.filtered=b,a.types=_.uniq(_.map(b,function(a){return a.type})).sort(),c.updatePicker(),a.byType()}),a.byType=function(){a.filtered=a.type?_.filter(a.data,function(b){return b.type===a.type}):a.data},e.$on("$locationChangeSuccess",function(){var b=d.search().search,c=d.search().type;b&&(a.customText=b),c&&(a.type=c)})}]),angular.module("sibasApp").service("bsui",["$timeout","$rootElement",function(a,b){var c=b.find(".bs-select");this.updatePicker=function(){a(function(){c.selectpicker("refresh")})}}]),angular.module("sibasApp").filter("regexFilter",function(){var a=function(a,b){var c=new RegExp("^"+b.replace(/\*/g,".+").replace(/\?/g,"."),"g");return function(b){return a[b]?c.test(a[b].toLowerCase()):!1}};return function(b,c){var d;if(b)return c?(d=c.toLowerCase(),b.filter(function(b){var c,e=a(b,d);return c=b.coordinates?b.coordinates.join().indexOf(d)>-1:!1,e("name_ru")||e("name")||c})):b}}),angular.module("sibasApp").controller("AdminCtrl",["$scope","Addresses",function(a,b){a.data=b.query(),a.remove=function(a){window.alert(["No remove",'"',a.name,'"',"NO !!!111"].join(" "))}}]),angular.module("sibasApp").service("Addresses",["$resource",function(a){return a("http://0.0.0.0:3000/addresses/:id",{id:"@_id"},{update:{method:"PUT"}})}]),angular.module("sibasApp").controller("AdminEditCtrl",["$scope","$location","Addresses","$routeParams",function(a,b,c,d){a.item=c.get({id:d.id}),a.save=function(){var d,e;d=function(){b.path("/atata/")},e=function(){},c.update({id:a.item.id},a.item,d,e)}}]);