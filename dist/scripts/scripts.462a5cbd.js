"use strict";angular.module("sibasApp",["ui.bootstrap"]),angular.module("sibasApp").controller("MainCtrl",["$scope","Data","bsui","$location","$rootScope",function(a,b,c,d,e){a.reverse=!0,a.sortField="name",e.$on("$locationChangeSuccess",function(){var b=d.search().search;b&&(a.customText=b)}),a.$watch("customText",function(a,b){a!==b&&d.search("search",a)}),b.then(function(b){a.data=b,a.filtered=b,a.types=_.uniq(_.map(b,function(a){return a.type})).sort(),c.updatePicker()}),a.byType=function(){a.filtered=a.type?_.filter(a.data,function(b){return b.type===a.type}):a.data}}]),angular.module("sibasApp").factory("Data",["$http","$q",function(a,b){var c=b.defer();return a.get("data/data.wiki.ru.json").success(function(a){c.resolve(a)}),c.promise}]),angular.module("sibasApp").service("bsui",["$timeout","$rootElement",function(a,b){var c=b.find(".bs-select");this.updatePicker=function(){a(function(){c.selectpicker("refresh")})}}]);